<section style="min-height: 100vh">
  <header class="form-control p-3 signFormIn border-end">
    <h5 class="bd-title m-0 p-0" dir="rtl">الأعمال السابقة الخاصه بكـ</h5>
  </header>
  <div class="container form-control py-5 px-4 border-0 signFormIn">
    <form [formGroup]="prevWorksForm" (ngSubmit)="prevWorksFormSubmit()">
      <div class="row">
        <div class="col-md-4 col-sm-6 col-xs-12">
          <label for="projectCategoryId" class="control-label mb-2">
            تصنيف المشروع</label
          >

          <select
            name="projectCategoryId"
            id="projectCategoryId"
            class="mt-2 form-control form-control-lg"
            formControlName="projectCategoryId"
            [class.is-valid]="projectCategoryId?.valid"
            [class.is-invalid]="
              projectCategoryId?.invalid && projectCategoryId?.touched
            "
          >
            <option>...اختر</option>
            <ng-container *ngFor="let projectCategoryId of AllProjectCategory">
              <option [value]="projectCategoryId.id">
                {{ projectCategoryId.name }}
              </option>
            </ng-container>
          </select>
          <div
            class="alert alert-warning"
            [hidden]="projectCategoryId?.valid || projectCategoryId?.untouched"
          >
            <span *ngIf="projectCategoryId?.errors?.['required']">
              تصنيف المشروع مطلوب</span
            >
          </div>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <div class="form-group">
            <label class="form-label mb-2" for="projectName">
              إسم المشروع
            </label>
            <input
              type="text"
              formControlName="projectName"
              name="projectName"
              id="projectName"
              class="form-control form-control-lg signup"
              placeholder="   إسم المشروع"
              required
              [class.is-valid]="projectName?.valid"
              [class.is-invalid]="projectName?.invalid && projectName?.touched"
            />
            <div
              class="alert alert-warning"
              [hidden]="projectName?.valid || projectName?.untouched"
            >
              <span *ngIf="projectName?.errors?.['required']"
                >إسم المشروع مطلوب
              </span>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <div class="form-group">
            <label class="form-label" for="ownerName"> مالك المشروع</label>
            <input
              type="text"
              id="ownerName"
              formControlName="ownerName"
              class="form-control form-control-lg signup"
              placeholder="   مالك المشروع "
              [class.is-valid]="ownerName?.valid"
              [class.is-invalid]="ownerName?.invalid && ownerName?.touched"
            />
            <div
              class="alert alert-warning"
              [hidden]="ownerName?.valid || ownerName?.untouched"
            >
              <span *ngIf="ownerName?.errors?.['required']">
                مالك المشروع مطللوب</span
              >
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-4 col-sm-6 col-xs-12">
          <div class="form-group">
            <label class="form-label" for="projectPrice"> تكلفة المشروع </label>
            <input
              type="text"
              id="projectPrice"
              formControlName="projectPrice"
              class="form-control form-control-lg signup"
              placeholder="   تكلفة المشروع  "
              [class.is-valid]="projectPrice?.valid"
              [class.is-invalid]="
                projectPrice?.invalid && projectPrice?.touched
              "
              (keypress)="numberOnly($event)"
            />
            <div
              class="alert alert-warning"
              [hidden]="projectPrice?.valid || projectPrice?.untouched"
            >
              <span *ngIf="projectPrice?.errors?.['required']">
                تكلفة المشروع مطلوب</span
              >
            </div>
          </div>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <div class="form-group">
            <label class="form-label" for="completionYear">
              نسبة الإنجاز
            </label>
            <input
              type="text"
              id="completionYear"
              formControlName="completionYear"
              class="form-control form-control-lg signup"
              placeholder="   رقم العضويه  "
              [class.is-valid]="completionYear?.valid"
              [class.is-invalid]="
                completionYear?.invalid && completionYear?.touched
              "
              (keypress)="numberOnly($event)"
            />
            <div
              class="alert alert-warning"
              [hidden]="completionYear?.valid || completionYear?.untouched"
            >
              <span *ngIf="completionYear?.errors?.['required']">
                رقم العضويه مطلوب</span
              >
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
          <div class="form-group">
            <label class="form-label mb-2" for="images"> صورة الأعمال </label>
            <div class="button-wrapper">
              <div class="h-100">
                <span class="label">{{
                  imageId.value
                    ? imageId.value.split("\\").slice(-1)[0].length > 15
                      ? imageId.value.split("\\").slice(-1)[0].substr(0, 15) +
                        "..."
                      : imageId.value.split("\\").slice(-1)[0]
                    : "إرفاق"
                }}</span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-upload"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"
                  />
                  <path
                    d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"
                  />
                </svg>
              </div>
              <input
                multiple
                type="file"
                #imageId
                formControlName="images"
                id="images"
                required
                (change)="onImageUpload($event)"
                [class.is-valid]="images?.valid"
                [class.is-invalid]="images?.invalid && images?.touched"
                class="file upload-box"
              />
            </div>

            <div
              class="alert alert-warning"
              [hidden]="images?.valid || images?.untouched"
            >
              <span *ngIf="images?.errors?.['required']">
                صورة الأعمال مطلوبة</span
              >
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12"></div>
        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12"></div>
        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
          <div class="form-group">
            <button
              type="submit"
              class="mainBk btn py-2 form-control text-white"
            >
              <i class="fa fa-floppy-disk mx-2 mainBk" aria-hidden="true"></i>
              حفظ
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
  <section>
    <div *ngFor="let work of allServiceProviderWorks">
      <div>إسم المشروع :{{ work.projectName }}</div>
    </div>
  </section>
</section>
