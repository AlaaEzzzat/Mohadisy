<!-- [formGroup]="myForm" -->
<!-- [formGroup]="providerData"] -->
<form
  [formGroup]="providerData"
  (ngSubmit)="onSubmit()"
  class="form-control border-0"
  novalidate
>
  <div *ngIf="secandform == false">
    <h5 class="mb-5 mt-5 bd-title" dir="rtl">المعلومات الشخصية</h5>
    <div class="row">
      <div class="col-3">
        <label class="form-label" for="username">
          <i class="fa fa-star" aria-hidden="true"></i>
          اسم المستخدم
        </label>
        <input
          type="text"
          id="username"
          class="form-control form-control-lg"
          name="username"
          formControlName="username"
          placeholder="اسم المستخدم"
          [class.is-valid]="
            providerData.get('username')?.valid &&
            (providerData.get('username')?.dirty ||
              providerData.get('username')?.touched)
          "
          [class.is-invalid]="
            providerData.get('username')?.invalid &&
            (providerData.get('username')?.dirty ||
              providerData.get('username')?.touched)
          "
        />

        <div
          *ngIf="
            providerData.get('username')?.invalid &&
            (providerData.get('username').dirty ||
              providerData.get('username').touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf=" providerData.get('username').errors?.['required']">
            Name is required.
          </div>
          <div *ngIf=" providerData.get('username').errors?.['minlength']">
            Name must be at least 4 characters long.
          </div>
        </div>
      </div>
      <div class="col-3">
        <label class="form-label" for="companyName">
          <i class="fa fa-star" aria-hidden="true"></i>
          اسم الشركة
        </label>
        <input
          type="text"
          id="companyName"
          class="form-control form-control-lg"
          name="companyName"
          formControlName="companyName"
          placeholder="اسم الشركة"
          [class.is-valid]="
            providerData.get('companyName')?.valid &&
            (providerData.get('companyName')?.dirty ||
              providerData.get('companyName')?.touched)
          "
          [class.is-invalid]="
            providerData.get('companyName')?.invalid &&
            (providerData.get('companyName')?.dirty ||
              providerData.get('companyName')?.touched)
          "
        />

        <div
          *ngIf="
            providerData.get('companyName')?.invalid &&
            (providerData.get('companyName').dirty ||
              providerData.get('companyName').touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf=" providerData.get('companyName').errors?.['required']">
            companyName is required.
          </div>
          <div *ngIf=" providerData.get('companyName').errors?.['minlength']">
            companyName must be at least 4 characters long.
          </div>
        </div>
      </div>
      <div class="col-3">
        <label class="form-label" for="email">
          <i class="fa fa-star" aria-hidden="true"></i>
          البريد الالكتروني</label
        >

        <input
          type="text"
          id="email"
          name="email"
          formControlName="email"
          class="form-control form-control-lg form-group"
          placeholder="البريد الالكتروني"
          [class.is-valid]="
            providerData.get('email')?.valid &&
            (providerData.get('email')?.dirty ||
              providerData.get('email')?.touched)
          "
          [class.is-invalid]="
            providerData.get('email')?.invalid &&
            (providerData.get('email')?.dirty ||
              providerData.get('email')?.touched)
          "
        />

        <div
          *ngIf="
            providerData.get('email')?.invalid &&
            (providerData.get('email').dirty ||
              providerData.get('email').touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf=" providerData.get('email').errors?.['required']">
            email is required.
          </div>
          <div *ngIf=" providerData.get('email').errors?.['email']">
            email must be example@example.com
          </div>
        </div>
      </div>
      <div class="col-3">
        <label class="form-label" for="phone_number">
          <i class="fa fa-star" aria-hidden="true"></i>
          رقم التلفون</label
        >
        <div class="form-group d-inline-block form-control">
          <span class="px-1 bg-primary text-light rounded-1">+966</span>
          <input
            type="number"
            id="phone_number"
            name="phone_number"
            class="mx-1"
            formControlName="phone_number"
            placeholder="رقم التلفون"
            [class.is-numbervalid]="
              providerData.get('phone_number')?.valid &&
              (providerData.get('phone_number')?.dirty ||
                providerData.get('phone_number')?.touched)
            "
            [class.is-invalid]="
              providerData.get('phone_number')?.invalid &&
              (providerData.get('phone_number')?.dirty ||
                providerData.get('phone_number')?.touched)
            "
          />
        </div>
        <div
          *ngIf="
            providerData.get('phone_number')?.invalid &&
            (providerData.get('phone_number').dirty ||
              providerData.get('phone_number').touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf=" providerData.get('phone_number').errors?.['required']">
            phone number is required.
          </div>
          <div *ngIf=" providerData.get('phone_number').errors?.['pattern']">
            phone number must be 11 number
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-5">
      <div class="col-3">
        <label class="form-label" for="companyPhoneNum">
          <i class="fa fa-star" aria-hidden="true"></i>
          رقم تليفون الشركة</label
        >

        <div class="form-group d-inline-block form-control">
          <span class="px-1 bg-primary text-light rounded-1">+966</span>
          <input
            type="number"
            id="companyPhoneNum"
            name="companyPhoneNum"
            class="border-0 shadow-none mx-1"
            formControlName="companyPhoneNum"
            placeholder="رقم تليفون الشركة"
            [class.is-valid]="
              providerData.get('companyPhoneNum')?.valid &&
              (providerData.get('companyPhoneNum')?.dirty ||
                providerData.get('companyPhoneNum')?.touched)
            "
            [class.is-invalid]="
              providerData.get('companyPhoneNum')?.invalid &&
              (providerData.get('companyPhoneNum')?.dirty ||
                providerData.get('companyPhoneNum')?.touched)
            "
          />
        </div>

        <div
          *ngIf="
            providerData.get('companyPhoneNum')?.invalid &&
            (providerData.get('companyPhoneNum').dirty ||
              providerData.get('companyPhoneNum').touched)
          "
          class="alert alert-danger"
        >
          <div
            *ngIf=" providerData.get('companyPhoneNum').errors?.['required']"
          >
            phone number is required.
          </div>
          <div *ngIf=" providerData.get('companyPhoneNum').errors?.['pattern']">
            phone number must be 11 number
          </div>
        </div>
      </div>

      <div class="col-4">
        <label class="form-label" for="site_url">
          <i class="fa fa-star" aria-hidden="true"></i>
          الموقع الالكتروني(http://www.sample.com)</label
        >

        <input
          type="text"
          id="site_url"
          name="site_url"
          formControlName="site_url"
          class="form-control form-control-lg form-group"
          placeholder="http://www.sample.com"
          [class.is-valid]="
            providerData.get('site_url')?.valid &&
            (providerData.get('site_url')?.dirty ||
              providerData.get('site_url')?.touched)
          "
          [class.is-invalid]="
            providerData.get('site_url')?.invalid &&
            (providerData.get('site_url')?.dirty ||
              providerData.get('site_url')?.touched)
          "
        />
        <div
          *ngIf="
            providerData.get('site_url')?.invalid &&
            (providerData.get('site_url').dirty ||
              providerData.get('site_url').touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf=" providerData.get('site_url').errors?.['required']">
            site_url is required.
          </div>
          <div *ngIf=" providerData.get('site_url').errors?.['pattern']">
            site_url must be http://www.sample.com
          </div>
        </div>
      </div>
      <div class="col-2">
        <label for="servicetype" class="control-label">
          <i class="fa fa-star" aria-hidden="true"></i>

          خدمات
        </label>
        <select
          name="servicetype"
          id="servicetype"
          class="form-control form-control-lg"
          formControlName="servicetype"
        >
          <option value="values1">value one</option>
          <option value="valu2">value tow</option>
        </select>

        <div
          *ngIf="
            providerData.get('servicetype')?.invalid &&
            (providerData.get('servicetype').dirty ||
              providerData.get('servicetype').touched)
          "
          class="alert alert-danger"
        >
          <div *ngIf=" providerData.get('servicetype').errors?.['required']">
            servicetype is required.
          </div>
        </div>
      </div>

      <div class="col-3">
        <label for="search_name_input" class="control-label">
          <i class="fa fa-star" aria-hidden="true"></i>

          خدمات
        </label>
        <select
          filterEnabled="true"
          name="search_name_input"
          id="search_name_input"
          class="form-control"
        >
          <option value="">value one</option>
          <option value="">value tow</option>
        </select>

        <!-- [formControl]="formControl" -->
      </div>
    </div>
    <div class="row">
      <div class="col-3">
        <label class="form-label" for="yearly_budget">
          <i class="fa fa-star" aria-hidden="true"></i>
          الدخل السنوي</label
        >

        <input
          type="number"
          id="yearly_budget"
          name="yearly_budget"
          formControlName="yearly_budget"
          class="form-control form-control-lg form-group"
          placeholder="$500"
        />
      </div>
    </div>
    <hr class="mt-3" />
    <div class="row mt-5">
      <div class="col-4">
        <h5 class="mb-5 bd-title" dir="rtl">العنوان</h5>
      </div>
      <div class="col-8">
        <div class="row">
          <div class="col-4">
            <label for="region" class="control-label">
              <i class="fa fa-star" aria-hidden="true"></i>

              منطقه
            </label>
            <select
              name="region"
              id="region"
              class="form-control form-control-lg"
            >
              <option value="">value one</option>
              <option value="">value tow</option>
            </select>
          </div>
          <div class="col-4">
            <label for="city" class="control-label">
              <i class="fa fa-star" aria-hidden="true"></i>

              المدينة
            </label>
            <select name="city" id="city" class="form-control form-control-lg">
              <option value="">value one</option>
              <option value="">value tow</option>
            </select>
          </div>
          <div class="col-4">
            <label for="district" class="control-label">
              <i class="fa fa-star" aria-hidden="true"></i>

              الحى
            </label>
            <select
              name="district"
              id="district"
              class="form-control form-control-lg"
            >
              <option value="">value one</option>
              <option value="">value tow</option>
            </select>
          </div>
        </div>
        <div class="row my-4">
          <div class="col-3">
            <label class="form-label" for="buildNo">
              <i class="fa fa-star" aria-hidden="true"></i>
              رقم المبنى
            </label>

            <input
              type="number"
              id="buildNo"
              name="buildNo"
              formControlName="buildNo"
              class="form-control form-control-lg form-group"
              placeholder="$500"
            />
          </div>
          <div class="col-3">
            <label class="form-label" for="postal_box">
              <i class="fa fa-star" aria-hidden="true"></i>
              الرقم الاضافي
            </label>

            <input
              type="number"
              id="postal_box"
              name="postal_box"
              formControlName="postal_box"
              class="form-control form-control-lg form-group"
              placeholder="$500"
            />
          </div>
          <div class="col-3">
            <label class="form-label" for="postal_code">
              <i class="fa fa-star" aria-hidden="true"></i>
              الرمز بريد
            </label>

            <input
              type="number"
              id="postal_code"
              name="postal_code"
              formControlName="postal_code"
              class="form-control form-control-lg form-group"
              placeholder="$500"
            />
          </div>
          <div class="col-3">
            <label class="form-label" for="StreetName">
              <i class="fa fa-star" aria-hidden="true"></i>
              اسم الشارع
            </label>

            <input
              type="number"
              id="StreetName"
              name="StreetName"
              formControlName="StreetName"
              class="form-control form-control-lg form-group"
              placeholder="$500"
            />
          </div>
        </div>
      </div>
    </div>
    <hr class="my-3" />
    <div class="row">
      <div class="col-4">
        <h5 class="mb-5 bd-title" dir="rtl">ممثل الشركة</h5>
      </div>
      <div class="col-8">
        <div class="row">
          <div class="col-6">
            <label class="form-label" for="representative_name">
              <i class="fa fa-star" aria-hidden="true"></i>

              الاسم الاول</label
            >
            <input
              type="text"
              id="representative_name"
              class="form-control form-control-lg"
              name="representative_name"
              formControlName="representative_name"
              placeholder="الاسم الاول"
              [class.is-valid]="
                providerData.get('representative_name')?.valid &&
                (providerData.get('representative_name')?.dirty ||
                  providerData.get('representative_name')?.touched)
              "
              [class.is-invalid]="
                providerData.get('representative_name')?.invalid &&
                (providerData.get('representative_name')?.dirty ||
                  providerData.get('representative_name')?.touched)
              "
            />

            <div
              *ngIf="
                providerData.get('representative_name')?.invalid &&
                (providerData.get('representative_name').dirty ||
                  providerData.get('representative_name').touched)
              "
              class="alert alert-danger"
            >
              <div
                *ngIf=" providerData.get('representative_name').errors?.['required']"
              >
                first name is required.
              </div>
              <div
                *ngIf=" providerData.get('representative_name').errors?.['minlength']"
              >
                first name must be at least 4 characters long.
              </div>
            </div>
          </div>
          <div class="col-6">
            <label class="form-label" for="representative_lastName">
              <i class="fa fa-star" aria-hidden="true"></i>
              اسم العائلة</label
            >
            <input
              type="text"
              id="representative_lastName"
              class="form-control form-control-lg"
              name="representative_lastName"
              formControlName="representative_lastName"
              placeholder="اسم العائلة"
              [class.is-valid]="
                providerData.get('representative_lastName')?.valid &&
                (providerData.get('representative_lastName')?.dirty ||
                  providerData.get('representative_lastName')?.touched)
              "
              [class.is-invalid]="
                providerData.get('representative_lastName')?.invalid &&
                (providerData.get('representative_lastName')?.dirty ||
                  providerData.get('representative_lastName')?.touched)
              "
            />

            <div
              *ngIf="
                providerData.get('representative_lastName')?.invalid &&
                (providerData.get('representative_lastName').dirty ||
                  providerData.get('representative_lastName').touched)
              "
              class="alert alert-danger"
            >
              <div
                *ngIf=" providerData.get('representative_lastName').errors?.['required']"
              >
                lastName is required.
              </div>
              <div
                *ngIf=" providerData.get('representative_lastName').errors?.['minlength']"
              >
                lastName must be at least 4 characters long.
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-6">
            <label class="form-label" for="representative_email">
              <i class="fa fa-star" aria-hidden="true"></i>
              البريد الالكتروني</label
            >

            <input
              type="text"
              id="representative_email"
              name="representative_email"
              formControlName="representative_email"
              class="form-control form-control-lg form-group"
              placeholder="البريد الالكتروني"
              [class.is-valid]="
                providerData.get('representative_email')?.valid &&
                (providerData.get('representative_email')?.dirty ||
                  providerData.get('representative_email')?.touched)
              "
              [class.is-invalid]="
                providerData.get('representative_email')?.invalid &&
                (providerData.get('representative_email')?.dirty ||
                  providerData.get('representative_email')?.touched)
              "
            />
            <div
              *ngIf="
                providerData.get('representative_email')?.invalid &&
                (providerData.get('representative_email').dirty ||
                  providerData.get('representative_email').touched)
              "
              class="alert alert-danger"
            >
              <div
                *ngIf=" providerData.get('representative_email').errors?.['required']"
              >
                email is required.
              </div>
              <div
                *ngIf=" providerData.get('representative_email').errors?.['minlength']"
              >
                email must be example@email.com
              </div>
            </div>
          </div>
          <div class="col-6">
            <label class="form-label" for="representative_phone">
              <i class="fa fa-star" aria-hidden="true"></i>
              رقم التلفون</label
            >
            <div class="form-group d-inline-block form-control">
              <span class="px-3">+966</span>
              <input
                type="text"
                id="representative_phone"
                name="representative_phone"
                formControlName="representative_phone"
                placeholder="رقم التلفون"
                [class.is-valid]="
                  providerData.get('representative_phone')?.valid &&
                  (providerData.get('representative_phone')?.dirty ||
                    providerData.get('representative_phone')?.touched)
                "
                [class.is-invalid]="
                  providerData.get('representative_phone')?.invalid &&
                  (providerData.get('representative_phone')?.dirty ||
                    providerData.get('representative_phone')?.touched)
                "
              />
            </div>
            <div
              *ngIf="
                providerData.get('representative_phone')?.invalid &&
                (providerData.get('representative_phone').dirty ||
                  providerData.get('representative_phone').touched)
              "
              class="alert alert-danger"
            >
              <div
                *ngIf=" providerData.get('representative_phone').errors?.['required']"
              >
                phone is required.
              </div>
              <div
                *ngIf=" providerData.get('representative_phone').errors?.['pattern']"
              >
                phone must be 11 characters
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row my-5">
      <div class="col-8"></div>
      <div class="col-4">
        <button
          class="btn btn-success-style form-control"
          type="submit"
          (click)="secandform = true"

        >
          <!-- (click)="secandform = true" -->
          <i class="fa fa-floppy-disk" aria-hidden="true"></i>

          حفظ استكمال البيانات
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="secandform == true">
    <h5 class="mb-5 mt-5 bd-title" dir="rtl">المستندات المرفقة</h5>
    <div class="row">
      <div class="col-md-4 mb-4">
        <label for="file" class="mb-2">
          <i class="fa fa-star" aria-hidden="true"></i>
          شعار الشركة
        </label>
        <div class="input-group custom-file-button form-control">
          <input
            type="file"
            class="form-control border-0"
            id="inputGroupFile"
            placeholder="mohamed"
            formControlName="logo"
          />
          <label class="btn btn-primary rounded-1" for="inputGroupFile"
            >ارفاق</label
          >
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 mb-4">
        <div class="form-outline">
          <label class="form-label mb-2" for="registration_number">
            <i class="fa fa-star" aria-hidden="true"></i>

            رقم تسجيل الشركة</label
          >
          <input
            type="number"
            id="registration_number"
            name="registration_number"
            formControlName="registration_number"
            class="form-control form-control-lg"
            style="height: 47px"
          />
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <label for="attach_register" class="mb-2">
          <i class="fa fa-star" aria-hidden="true"></i>
          ارفاق
        </label>
        <div class="input-group custom-file-button form-control">
          <input
            type="file"
            class="form-control border-0"
            id="attach_register"
            placeholder="mohamed"
            formControlName="attach_register"
            name="attach_register"
          />
          <label class="btn btn-primary rounded-1" for="inputGroupFile"
            >ارفاق</label
          >
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-3 mb-4">
        <div class="form-outline">
          <label class="form-label mb-2" for="licences_number">
            رقم رخصة هيئة المهندسين
          </label>
          <input
            type="number"
            id="licences_number"
            name="licences_number"
            formControlName="licences_number"
            class="form-control form-control-lg"
            style="height: 47px"
          />
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="form-outline">
          <label class="form-label mb-2" for="CompNum">
            <i class="fa fa-star" aria-hidden="true"></i>

            تاريخ الرخصة
          </label>
          <input
            type="date"
            id="CompNum"
            name="CompNum"
            formControlName="CompNum"
            class="form-control form-control-lg"
            style="height: 47px"
          />
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="form-outline">
          <label class="form-label mb-2" for="CompNum">
            <i class="fa fa-star" aria-hidden="true"></i>

            تاريخ الانتهاء
          </label>
          <input
            type="date"
            id="CompNum"
            name="CompNum"
            formControlName="CompNum"
            class="form-control form-control-lg"
            style="height: 47px"
          />
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <label for="attach_licences" class="mb-2">
          <i class="fa fa-star" aria-hidden="true"></i>
          ارفاق
        </label>
        <div class="input-group custom-file-button form-control">
          <input
            type="file"
            class="form-control border-0"
            id="attach_licences"
            placeholder="mohamed"
            formControlName="attach_licences"
            name="attach_licences"
          />
          <label class="btn btn-primary rounded-1" for="inputGroupFile"
            >ارفاق</label
          >
        </div>
      </div>
    </div>
    <div class="row my-5">
      <div class="col-7"></div>
      <div class="col-3">
        <button class="btn btn-success-style form-control" type="submit">
          <i class="fa fa-floppy-disk" aria-hidden="true"></i>
          حفظ استكمال البيانات
        </button>
      </div>
      <div class="col-2">
        <button
          class="btn btn-success-style form-control"
          (click)="secandform = false"
        >
          <i class="fa fa-backward" aria-hidden="true"></i>
          السابق
        </button>
      </div>
    </div>
  </div>
</form>

{{ providerData.value | json }}
<br />
<br />
<br />
<br />
{{ providerData.get("email").errors | json }}
